# 659. 分割数组为连续子序列

## 题目

给你一个按升序排序的整数数组 `num`（可能包含重复数字），请你将它们分割成一个或多个长度至少为 3 的子序列，其中每个子序列都由连续整数组成。

如果可以完成上述分割，则返回 `true` ；否则，返回 `false` 。

## 示例

**示例 1：**

> 输入: [1,2,3,3,4,5]
> 输出: True
> 解释:
> 你可以分割出这样两个连续子序列 : 
> 1, 2, 3
> 3, 4, 5

**示例 2：**

> 输入: [1,2,3,3,4,4,5,5]
> 输出: True
> 解释:
> 你可以分割出这样两个连续子序列 : 
> 1, 2, 3, 4, 5
> 3, 4, 5

**示例 3：**

> 输入: [1,2,3,4,4,5]
> 输出: False

## 提示

* `1 <= nums.length <= 10000`

## 解题思路

模拟法，将nums纵向展开为多个序列，且相同的数字在纵向上是对齐的。

先用计数器统计每一个数字的数量，然后从小到大进行遍历。如果当前数字的数量比之前的多，说明序列增多，相反则说明序列减少。增加时，新序列的长度为1。减少时，我们倾向于减掉最长的序列，使得我们能够得到更多的长度大于3的序列，这就要求我们用一个大顶堆来维护序列的长度。此外在减掉序列时，判断是否大于等于3。如果不增不减，则堆内所有序列长度加一（增减序列时剩下的序列也需要长度加一）。最后判断剩下的序列长度的最小值是不是小于3。

遍历时有可能遇到数字不连续的情况，这时候就相当于一次重新运行，在断点处先判断目前剩下的序列长度的最小值是不是小于3，然后清空堆，继续遍历。

时间复杂度为O(n)，空间复杂度为O(n)。

官方还给出了一种贪心的算法，其实也相当于模拟，详见[https://leetcode-cn.com/problems/split-array-into-consecutive-subsequences/solution/fen-ge-shu-zu-wei-lian-xu-zi-xu-lie-by-l-lbs5/](https://leetcode-cn.com/problems/split-array-into-consecutive-subsequences/solution/fen-ge-shu-zu-wei-lian-xu-zi-xu-lie-by-l-lbs5/)。

## 性能

执行用时：84 ms, 在所有 Python3 提交中击败了97.86%的用户

内存消耗：15.8 MB, 在所有 Python3 提交中击败了72.65%的用户

## 声明

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/split-array-into-consecutive-subsequences
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。