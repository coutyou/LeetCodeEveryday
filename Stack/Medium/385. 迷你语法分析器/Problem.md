# 385. 迷你语法分析器

## 题目

给定一个用字符串表示的整数的嵌套列表，实现一个解析它的语法分析器。

列表中的每个元素只可能是整数或整数嵌套列表。

## 示例

**示例 1：**

> 给定 s = "324",
> 
> 你应该返回一个 NestedInteger 对象，其中只包含整数值 324。

**示例 2：**

> 给定 s = "[123,[456,[789]]]",
>
> 返回一个 NestedInteger 对象包含一个有两个元素的嵌套列表：
>
> 1. 一个 integer 包含值 123
> 2. 一个包含两个元素的嵌套列表：
>     i.  一个 integer 包含值 456
>     ii. 一个包含一个元素的嵌套列表
>          a. 一个 integer 包含值 789
>

## 提示

* 字符串非空
* 字符串不包含空格
* 字符串只包含数字`0-9`、`[`、`-`、`,`、`]`

## 解题思路

容易想到的是递归的写法，但这种写法的时间复杂度较高，需要不断对字符串进行划分，这之间有重复的地方。

其实s遍历与栈是对应的——遇到左括号，说明有一个新的列表，更深的一个层次，对应新的NestedInteger入栈。遇到右括号，说明当前列表结束，返回上一个层次，对应栈顶出栈。因此可以沿着这个思路，在遍历s的时候维护一个栈，遇到数字则不断扩展，然后包装进一个NestedInteger后加入栈顶元素中。

时间复杂度为O(n)，空间复杂度为O(n)。

## 性能

执行用时：64 ms, 在所有 Python3 提交中击败了61.34%的用户

内存消耗：18.2 MB, 在所有 Python3 提交中击败了44.44%的用户

## 声明

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/mini-parser
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。