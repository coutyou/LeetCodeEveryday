# 227. 基本计算器 II

## 题目

实现一个基本的计算器来计算一个简单的字符串表达式的值。

字符串表达式仅包含非负整数，`+`， `-` ，`*`，`/` 四种运算符和空格 ` `。 整数除法仅保留整数部分。

## 示例

**示例 1：**

> 输入: "3+2*2"
> 输出: 7

**示例 2：**

> 输入: " 3/2 "
> 输出: 1

**示例 3：**

> 输入: " 3+5 / 2 "
> 输出: 5

## 提示

* 你可以假设所给定的表达式都是有效的。
* 请不要使用内置的库函数` eval `。

## 解题思路

如果只有加减法，那么很简单，用栈操作就行了，但是本题还有乘除法，其优先级比加减法高。那么可以考虑分为两步进行运算，先进行乘除法，再进行加减法。

方便起见，先将字符串分割为数字和操作符的数组。遍历该数组，有两种方法，一种是遇到符号就进行操作，加减只改变后面那个数的符号，乘除对前后的数字操作再入栈。另一种是遇到数字就操作，这种方法需要记录之前的符号，如果是乘除则需要与栈顶的数字操作，如果是加减则入栈。

时间复杂度为O(n)，空间复杂度为O(n)。

## 性能

执行用时：96 ms, 在所有 Python3 提交中击败了73.80%的用户

内存消耗：18.5 MB, 在所有 Python3 提交中击败了6.97%的用户

## 声明

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/basic-calculator-ii/
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。